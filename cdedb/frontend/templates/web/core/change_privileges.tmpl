{% extends "web/core/base.tmpl" %}
{% import "web/util.tmpl" as util with context %}
{% block title %}
    {% trans given_names=ambience['persona']['given_names'], family_name=ambience['persona']['family_name'] %}
    	Change Privileges for {{ given_names }} {{ family_name }}
    {% endtrans %}
{% endblock %}
{% block breadcrumb %}
    {{ super() }}
    {{ util.breadcrumb_link(show_user_link(user, ambience['persona']['id']),
            ambience['persona']['given_names'] + " " + ambience['persona']['family_name'], icon="user") }}
    {{ util.breadcrumb_link(cdedblink("core/change_privileges_form"), gettext("Change Privileges"), active=True) }}
{% endblock %}
{% block content %}
    {% trans %}
        Privilege changes will have to be approved by another Meta-Admin.
    {% endtrans %}
    <form action="{{ cdedblink('core/change_privileges') }}" method="POST" id="privilegechangeform">
        {{ util.anti_csrf_token('core/change_privileges') }}
        <div class="row">
            {# see also change_privileges in cdedb.frontend.core and initialize_privilege_change in cdedb.backend.core #}
            {% if ambience['persona']['is_cde_realm'] %}
                {{ util.form_input_checkbox(name="is_meta_admin", label=gettext("Meta-Admin"), small=True) }}
                {{ util.form_input_checkbox(name="is_core_admin", label=gettext("Core-Admin"), small=True) }}
                {{ util.form_input_checkbox(name="is_cde_admin", label=gettext("CdE-Admin"), small=True) }}
                {{ util.form_input_checkbox(name="is_finance_admin", label=gettext("Finance-Admin"), small=True) }}
                {{ util.form_input_checkbox(name="is_cdelokal_admin", label=gettext("CdElokal-Admin"), small=True) }}
            {% endif %}
            {% if ambience['persona']['is_event_realm'] %}
                {{ util.form_input_checkbox(name="is_event_admin", label=gettext("Event-Admin"), small=True) }}
            {% endif %}
            {% if ambience['persona']['is_ml_realm'] %}
                {{ util.form_input_checkbox(name="is_ml_admin", label=gettext("Mailinglist-Admin"), small=True) }}
            {% endif %}
            {% if ambience['persona']['is_assembly_realm'] %}
                {{ util.form_input_checkbox(name="is_assembly_admin", label=gettext("Assembly-Admin"), small=True) }}
            {% endif %}
        </div>
        <div class="row">
            {{ util.form_input_textarea(name="notes", label=gettext("Notes"), small=True) }}
        </div>
        {{ util.form_input_submit(label=gettext("Confirm"), cancellink=show_user_link(user, ambience['persona']['id']),
                small=True) }}
    </form>
{% endblock %}
