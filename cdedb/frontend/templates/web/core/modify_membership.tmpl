{% extends "web/core/base.tmpl" %}
{% import "web/util.tmpl" as util with context %}
{% block title %}
    {% trans name=util.persona_name(ambience['persona']) %}
    	Modify Memberhip for {{ name }}
    {% endtrans %}
{% endblock %}
{% block breadcrumb %}
{{ super() }}
{{ util.breadcrumb_link(show_user_link(user, ambience['persona']['id']), util.persona_name(ambience['persona']),
                        icon="user") }}
{{ util.breadcrumb_link(cdedblink("core/modify_membership"), gettext("Modify Membership"), active="True") }}
{% endblock %}

{% block heading %}
    {{ util.context_heading(gettext("Modify Membership"), util.persona_name(ambience['persona']),
                            'user', gettext("User")) }}
{% endblock %}

{% block content %}
   {% if ambience['persona']['is_member'] %}
        <p>
            {{ util.make_icon('info-circle') }}
            {% trans %}Here you can terminate the CdE-membership. This has the following effects:{% endtrans %}
        </p>
        <ul>
            <li>{% trans %}termination of membership{% endtrans %}</li>
            <li>{% trans %}termination of trial membership (if applicable){% endtrans %}</li>
            <li>{% trans %}termination of honorary membership (if applicable){% endtrans %}</li>
            <li>{% trans %}no longer able to search for/be found by other searchable members (if applicable){% endtrans %}</li>
            <li>{% trans %}loss of membership fee balance (in up to 6 months){% endtrans %}</li>
            <li>{% trans %}revocation of any active direct debit authorization{% endtrans %}</li>
        </ul>

       <p>
            {% trans %}Instead, you can grant or terminate a trial or honorary membership. This does not affect the membership status.{% endtrans %}
       </p>
    {% endif %}
       <div>
            <form action="{{ cdedblink('core/modify_membership') }}" method="POST" id="modifymembershipform" class="display-inline">
                {{ util.anti_csrf_token('core/modify_membership') }}
                {% if persona['is_member'] %}
                    {{ util.input_submit(name="is_member", value=False, label=gettext("Terminate Membership"), aclass="btn btn-danger", icon="times") }}
                {% else %}
                    {{ util.input_submit(name="is_member", value=True, label=gettext("Grant Membership"), aclass="btn btn-primary", icon="plus") }}
                {% endif %}
            </form>
            <form action="{{ cdedblink('core/modify_membership') }}" method="POST", id="modifytrialmembershipform" class="display-inline">
                {{ util.anti_csrf_token('core/modify_membership') }}
                {% if persona['trial_member'] %}
                    {{ util.input_submit(name="trial_member", value=False, label=gettext("Terminate Trial Membership"), aclass="btn btn-danger", icon="times") }}
                {% elif persona['is_member'] %}
                    {{ util.input_submit(name="trial_member", value=True, label=gettext("Grant Trial Membership"), aclass="btn btn-primary", icon="plus") }}
                {% else %}
                    {{ util.input_submit(name="trial_member", value=True, label=gettext("Grant Trial Membership (and Membership)"), aclass="btn btn-primary", icon="plus") }}
                {% endif %}
            </form>
            <form action="{{ cdedblink('core/modify_membership') }}" method="POST" id="modifyhonorarymembershipform" class="display-inline">
                {{ util.anti_csrf_token('core/modify_membership') }}
                {% if persona['honorary_member'] %}
                    {{ util.input_submit(name="honorary_member", value=False, label=gettext("Revoke Honorary Membership"), aclass="btn btn-danger", icon="times") }}
                {% elif persona['is_member'] %}
                    {{ util.input_submit(name="honorary_member", value=True, label=gettext("Grant Honorary Membership"), aclass="btn btn-primary", icon="plus") }}
                {% else %}
                    {{ util.input_submit(name="honorary_member", value=True, label=gettext("Grant Honorary Membership (and Membership)"), aclass="btn btn-primary", icon="plus") }}
                {% endif %}
            </form>
            {{ util.href(show_user_link(user, ambience['persona']['id']), gettext("Cancel"), icon="times-circle", aclass="btn btn-default") }}
       </div>
{% endblock %}
