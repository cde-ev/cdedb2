{% extends "web/de/cde/base.tmpl" %}
{% import "web/de/util.tmpl" as util with context %}
{% block jquery %}{{ util.jquery_preamble() }}{% endblock %}
{% block title %}CdE Nutzersuche{% endblock %}
{% block content %}
    <h1>Suche</h1>
    <h3>Standardabfragen</h3>
    {% with TITLES = {
        "trial members" : "Probemitglieder",} %}

        <div>
            {{ util.place_default_queries("cde/user_search", default_queries, TITLES) }}
        </div>
    {% endwith %}

    <h3>Suchmaske</h3>
    {% with TITLES = {
        "fulltext" : "Volltext",
        "member_data.persona_id" : "ID",
        "username" : "Email",
        "status" : "Status",
        "is_active" : "Aktiv",
        "db_privileges" : "DB-Rechte",
        "cloud_account" : "Cloud Zugriff",
        "family_name" : "Nachname",
        "birth_name" : "Geburtsname",
        "given_names" : "Vorname",
        "display_name" : "Rufname",
        "title" : "Titel",
        "name_supplement" : "Namenszusatz",
        "gender" : "Geschlecht",
        "birthday" : "Geburtstag",
        "telephone" : "Telefon",
        "mobile" : "Mobilfunk",
        "address" : "Anschrift",
        "address_supplement" : "Adresszusatz",
        "postal_code" : "PLZ",
        "location" : "Ort",
        "country" : "Land",
        "address2" : "Anschrift (Zweitadresse)",
        "address_supplement2" : "Adresszusatz (Zweitadresse)",
        "postal_code2" : "PLZ (Zweitadresse)",
        "location2" : "Ort (Zweitadresse)",
        "country2" : "Land (Zweitadresse)",
        "weblink" : "WWW",
        "specialisation" : "Fachgebiet",
        "affiliation" : "Schule, Uni, ...",
        "timeline" : "Jahrgang, Matrikel, ...",
        "interests" : "Interessen",
        "free_form" : "Sonstige Angaben",
        "event_id" : "Veranstaltung",
        "course_id" : "Kurs",
        "balance" : "Guthaben",
        "decided_search" : "Sichtbarkeit entschieden",
        "trial_member" : "Probemitgliedschaft",
        "bub_search" : "Sichtbarkeit BuB",
        "notes" : "Notizen",} %}

        <form action="{{ cdedblink('cde/user_search')|e }}" method="GET" id="usersearchform">
            <div>
                {{ util.input_submit(value="Suchen") }}
                {{ util.input_submit(value="CSV-Datei", name="CSV") }}
                {{ util.format_query(spec, TITLES, choices) }}
                {{ util.input_submit(value="Suchen") }}
                {{ util.input_submit(value="CSV-Datei", name="CSV") }}
            </div>
        </form>

    {% endwith %}

    <h3>Aktionen</h3>
    <p>
        <input type="button" value="Alle auswählen" id="action_select_all" class="jsEnabled" disabled>
        <input type="button" value="Alle abwählen" id="action_select_none" class="jsEnabled" disabled>
        <input type="button" value="Auswahl umkehren" id="action_select_invert" class="jsEnabled" disabled>
    </p>
    <script type="text/javascript">
        $(document).ready(function(){
            $(".jsEnabled").prop('disabled', false);
            $("#action_select_all").click(function (){
                 $(".outputSelector").prop('checked', true);
                 });
            $("#action_select_none").click(function (){
                 $(".outputSelector").prop('checked', false);
                 });
            $("#action_select_invert").click(function (){
                 $(".outputSelector").each(function (){
                     $(this).prop('checked', !$(this).prop('checked'));
                 })});
        });
    </script>
{% endblock %}
