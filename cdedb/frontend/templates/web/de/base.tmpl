{# This is the base template to be extended by (nearly) all html templates.
   It provides a skeleton where only the content needs to be filled in. #}

<html>
    <head>
        <title>{% block title %}CdEDB{% endblock %}</title>
        <link rel="stylesheet" type="text/css" href="/static/cdedb.css" media="all">
        <link rel="stylesheet" type="text/css" href="/static/print.css" media="print">
        {% block jquery %} <!-- insert jquery here --> {% endblock %}
    </head>
    <body>
        <div id="header">
            {% block header %}More logo{% endblock %}
        </div>
        <div id="middle">
            <div id="strut"></div>
            <div id="navigation">
                <h1><a href="{{ cdedblink("core/index") }}">CdEDB</a></h1>
                {% if user.role == "anonymous" %}
                    <p>
                        Nicht eingeloggt<br>
                        <a href="{{ cdedblink("core/index") }}">Login</a>
                    </p>
                {% else %}
                    <p>
                        Eingeloggt als:<br>
                        <span id="displayname">{{ user.display_name|e }}</span>
                        <form action="{{ cdedblink("core/logout") }}" method="POST" id="logoutform">
                            <input type="submit" name="submitlogout" value="Abmelden">
                        </form>
                    </p>
                {% endif %}
                <hr>
                <h2>Navigation</h2>
                {% block navigation %}
                    This should not be visible.
                {% endblock %}
            </div>
            <div id="content">
                {% for ntype, message in notifications %}
                    <div class="notification {{ ntype|e }}Notification">
                        <img src="{{ staticurl("icons/{}.png".format(ntype)) }}"
                          alt="{{ ntype|e }}" class="notificationIcon">
                        <span class="notificationMessage">{{ i18n(message)|e }}</span>
                    </div>
                {% endfor %}
                {% block content %}
                    This should not be visible.
                {% endblock %}
            </div>
        </div>
        <div id="footer">
            {% block footer %}{{ debugstring|e }}{% endblock %}
        </div>
    </body>
    {% if errors %}
        <!-- error listing for debugging
             {{ errors|e }}
        -->
    {% endif %}
</html>
