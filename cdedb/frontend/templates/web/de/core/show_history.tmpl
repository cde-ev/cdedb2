{% extends "web/de/core/base.tmpl" %}
{% import "web/de/util.tmpl" as util with context %}
{% import "web/de/generic.tmpl" as generic with context %}
{% block title %}Geschichte von {{ current['given_names']|e }} {{ current['family_name']|e }}{% endblock %}
{% block content %}
    <div class="float-along">
        {% if not current['is_active'] %}
            <p class="text-danger">
                Der Benutzer ist deaktiviert.
            </p>
        {% endif %}
        {% if current['is_archived'] %}
            <p class="text-danger">
                Der Benutzer ist archiviert.
            </p>
        {% endif %}

        <h4 class="heading-underline">Geschichte</h4>
        <dl class="dl-horizontal">
            {% with TITLES = {
                "fulltext": "Volltext",
                "personas.id": "ID",
                "username": "Email",
                "is_active": "Aktiv",
                "db_privileges": "DB-Rechte",
                "cloud_account": "Cloud Zugriff",
                "family_name": "Nachname",
                "birth_name": "Geburtsname",
                "given_names": "Vorname",
                "display_name": "Rufname",
                "title": "Titel",
                "name_supplement": "Namenszusatz",
                "gender": "Geschlecht",
                "birthday": "Geburtstag",
                "telephone": "Telefon",
                "mobile": "Mobilfunk",
                "address": "Anschrift",
                "address_supplement": "Adresszusatz",
                "postal_code": "PLZ",
                "location": "Ort",
                "country": "Land",
                "address2": "Anschrift (Zweitadresse)",
                "address_supplement2": "Adresszusatz (Zweitadresse)",
                "postal_code2": "PLZ (Zweitadresse)",
                "location2": "Ort (Zweitadresse)",
                "country2": "Land (Zweitadresse)",
                "weblink": "WWW",
                "specialisation": "Fachgebiet",
                "affiliation": "Schule, Uni, ...",
                "timeline": "Jahrgang, Matrikel, ...",
                "interests": "Interessen",
                "free_form": "Sonstige Angaben",
                "pevent_id": "Veranstaltung",
                "pcourse_id": "Kurs",
                "balance": "Guthaben",
                "decided_search": "Sichtbarkeit entschieden",
                "trial_member": "Probemitgliedschaft",
                "bub_search": "Sichtbarkeit BuB",
                "notes": "Notizen",} %}

                {% for field in ('title', 'given_names', 'family_name', 'name_supplement', 'display_name',
                                 'birth_name', 'birthday', 'gender', 'specialisation', 'affiliation', 'timeline',
                                 'interests', 'free_form', 'username', 'telephone', 'mobile', 'weblink', 'address',
                                 'address_supplement', 'postal_code', 'location', 'country', 'address2',
                                 'address_supplement2', 'postal_code2', 'location', 'country2', 'is_member',
                                 'trial_member', 'is_active', 'cloud_account', 'is_searchable', 'decided_search',
                                 'bub_search', 'balance', 'is_cde_realm', 'is_event_realm', 'is_ml_realm',
                                 'is_assembly_realm', 'is_cde_admin', 'is_event_admin', 'is_ml_admin',
                                 'is_assembly_admin', 'notes') %}
                    <dt>{{ TITLES[field]|e }}</dt>
                    <dd>
                        {{ util.form_input_select(field, entries[field], defaultvalue=entries[field][-1][0]) }}
                    </dd>
                {% endfor %}
            {% endwith %}
        </dl>
    </div>
{% endblock %}
